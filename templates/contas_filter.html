{% load widget_tweaks %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <form method="get" class="d-flex flex-grow-1 me-2">
    {{ filter.form.search|add_class:"form-control rounded-pill me-2" }}
    <button type="submit" class="btn btn-primary rounded-pill px-4">
      <i class="bi bi-search"></i>
    </button>
  </form>
  {% if advanced_filter %}
  <button class="btn btn-outline-secondary rounded-pill" data-bs-toggle="offcanvas" data-bs-target="#filtrosOffcanvas">
    <i class="bi bi-funnel"></i> Filtros Avançados
  </button>
  {% endif %}
</div>

<div id="custom-offcanvas-backdrop" class="custom-backdrop" aria-hidden="true"></div>

<div class="offcanvas offcanvas-end" tabindex="-1" id="filtrosOffcanvas" data-bs-backdrop="false" data-bs-scroll="false">
  <div class="offcanvas-header border-bottom">
    <h5 class="offcanvas-title fw-bold">Filtros Avançados</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
  </div>
  <div class="offcanvas-body">
    <form method="get" class="d-flex flex-column gap-3">
      <div>
        <label class="form-label fw-semibold">Data inicial</label>
        {{ filter.form.data_inicio|add_class:"form-control rounded" }}
      </div>
      <div>
        <label class="form-label fw-semibold">Data final</label>
        {{ filter.form.data_fim|add_class:"form-control rounded" }}
      </div>
      <div>
        <label class="form-label fw-semibold">Valor mínimo</label>
        {{ filter.form.valor_min|add_class:"form-control rounded" }}
      </div>
      <div>
        <label class="form-label fw-semibold">Valor máximo</label>
        {{ filter.form.valor_max|add_class:"form-control rounded" }}
      </div>
      <button type="submit" class="btn btn-primary w-100 rounded-pill mt-3">Filtrar</button>
    </form>
  </div>
</div>